{"ast":null,"code":"var _jsxFileName = \"C:\\\\we-transfer-clone\\\\app\\\\src\\\\components\\\\FormPayment.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\nimport { sendPaymentInfos } from '../helpers/PaymentInfos';\nimport _ from 'lodash';\nconst CARD_OPTIONS = {\n  iconStyle: 'solid',\n  style: {\n    base: {\n      iconColor: '#c4f0ff',\n      color: '#fff',\n      fontWeight: 500,\n      fontFamily: 'Roboto, Open Sans, Segoe UI, sans-serif',\n      fontSize: '16px',\n      fontSmoothing: 'antialiased',\n      ':-webkit-autofill': {\n        color: '#fce883'\n      },\n      '::placeholder': {\n        color: '#87bbfd'\n      }\n    },\n    invalid: {\n      iconColor: '#ffc7ee',\n      color: '#ffc7ee'\n    }\n  }\n};\n\nclass FormPayment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextFieldChange = e => {\n      let {\n        fields\n      } = this.state;\n      const fieldName = e.target.name;\n      const fieldValue = e.target.value;\n      fields[fieldName] = fieldValue;\n      this.setState({\n        fields: fields\n      });\n    };\n\n    this.onSubmit = async event => {\n      event.preventDefault();\n      let {\n        fields\n      } = this.state;\n\n      let name = _.get(fields, 'name');\n\n      console.log(\"name : \", name);\n      const cardElement = this.props.elements.getElement('card');\n\n      try {\n        this.props.stripe.createPaymentMethod({\n          type: 'card',\n          card: cardElement\n        }).then(({\n          paymentMethod\n        }) => {\n          console.log('Received Stripe PaymentMethod:', paymentMethod);\n        });\n        let {\n          token\n        } = await this.props.stripe.createToken({\n          type: 'card',\n          name: name\n        });\n        let amount = this.props.amount;\n        sendPaymentInfos(token, amount);\n      } catch (err) {\n        throw err;\n      }\n    };\n\n    this.state = {\n      fields: {\n        name: \"\"\n      }\n    };\n    this.onTextFieldChange = this.onTextFieldChange.bind(this);\n  }\n\n  render() {\n    const {\n      fields\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"app-form-payment-component\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"credit-card-name\",\n      value: fields.name,\n      onChange: this.onTextFieldChange,\n      name: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"CC Number -- Exp. Date -- CVC\"), React.createElement(\"fieldset\", {\n      className: \"FormGroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"FormRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(CardElement, {\n      options: CARD_OPTIONS,\n      onChange: onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })))), React.createElement(\"button\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Charge it !\")));\n  }\n\n}\n\nexport default injectStripe(FormPayment);","map":{"version":3,"sources":["C:/we-transfer-clone/app/src/components/FormPayment.js"],"names":["React","Component","CardElement","injectStripe","sendPaymentInfos","_","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","FormPayment","constructor","props","onTextFieldChange","e","fields","state","fieldName","target","name","fieldValue","value","setState","onSubmit","event","preventDefault","get","console","log","cardElement","elements","getElement","stripe","createPaymentMethod","type","card","then","paymentMethod","token","createToken","amount","err","bind","render","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {CardElement, injectStripe} from 'react-stripe-elements';\r\nimport {sendPaymentInfos} from '../helpers/PaymentInfos';\r\nimport _ from 'lodash';\r\n\r\nconst CARD_OPTIONS = {\r\n    iconStyle: 'solid',\r\n    style: {\r\n      base: {\r\n        iconColor: '#c4f0ff',\r\n        color: '#fff',\r\n        fontWeight: 500,\r\n        fontFamily: 'Roboto, Open Sans, Segoe UI, sans-serif',\r\n        fontSize: '16px',\r\n        fontSmoothing: 'antialiased',\r\n        ':-webkit-autofill': {color: '#fce883'},\r\n        '::placeholder': {color: '#87bbfd'},\r\n      },\r\n      invalid: {\r\n        iconColor: '#ffc7ee',\r\n        color: '#ffc7ee',\r\n      },\r\n    },\r\n  };\r\n\r\nclass FormPayment extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            fields : {\r\n                name : \"\"\r\n        }\r\n        }\r\n    \r\n        this.onTextFieldChange = this.onTextFieldChange.bind(this);\r\n    }\r\n    \r\n    onTextFieldChange = (e) => {\r\n\r\n        let {fields} = this.state;\r\n\r\n        const fieldName = e.target.name;\r\n        const fieldValue = e.target.value;\r\n\r\n        fields[fieldName] = fieldValue;\r\n\r\n        this.setState({\r\n            fields : fields\r\n        })\r\n\r\n    }\r\n\r\n    onSubmit = async (event) => {\r\n\r\n        event.preventDefault();\r\n        \r\n        let {fields} = this.state;\r\n\r\n        let name = _.get(fields, 'name');\r\n\r\n        console.log(\"name : \", name);\r\n        const cardElement = this.props.elements.getElement('card');\r\n        \r\n        try {\r\n\r\n        this.props.stripe\r\n        .createPaymentMethod({\r\n                            type: 'card',\r\n                            card: cardElement,\r\n                        }).then(({paymentMethod}) => {\r\n        console.log('Received Stripe PaymentMethod:', paymentMethod);\r\n      });\r\n\r\n      let {token} = await this.props.stripe.createToken({type: 'card', name: name});\r\n\r\n      let amount = this.props.amount;\r\n\r\n      \r\n      sendPaymentInfos(token, amount);\r\n\r\n        }catch(err) {\r\n            throw err;\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n\r\n\r\n    render() {\r\n\r\n        const {fields} = this.state;\r\n\r\n        return (\r\n            <div className=\"app-form-payment-component\">\r\n                <form onSubmit={this.onSubmit}>\r\n                <div>\r\n                <label>name</label>\r\n                <input type=\"text\" className=\"credit-card-name\" value={fields.name}  onChange={this.onTextFieldChange} name=\"name\" />\r\n    \r\n                </div>\r\n                <div>\r\n                <label>CC Number -- Exp. Date -- CVC</label> \r\n                <fieldset className=\"FormGroup\">\r\n                <div className=\"FormRow\">\r\n                <CardElement options={CARD_OPTIONS} onChange={onChange} />\r\n                </div>\r\n            </fieldset>\r\n                </div>\r\n                \r\n                <button className=\"\">Charge it !</button>\r\n            </form>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default injectStripe(FormPayment);"]},"metadata":{},"sourceType":"module"}